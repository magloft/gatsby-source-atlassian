{"version":3,"sources":["webpack://gatsby-source-atlassian-site/./src/pages/index.js"],"names":["params","versions","data","allJiraVersion","nodes","className","href","target","rel","map","version","index","completedTasks","issues","filter","issue","status","jiraId","length","progress","Math","floor","key","open","name","value","max","released","src","issueType","icon","url","alt","summary","assignee","G","image","avatar","childImageSharp","gatsbyImageData","displayName"],"mappings":"gLAsEA,UAzCkB,SAACA,GACjB,IAAMC,EAAWD,EAAOE,KAAKC,eAAeC,MAC5C,OACE,gBAAC,WAAD,KACE,uBAAKC,UAAU,mBACb,0BAAI,0BAAI,2DACR,0BAAI,0BAAI,qBAAGC,KAAK,sDAAsDC,OAAO,SAASC,IAAI,cAAlF,aAEV,wBAAMH,UAAU,aACd,+BACE,0CACCJ,EAASQ,KAAI,SAACC,EAASC,GACtB,IAAMC,EAAiBF,EAAQG,OAAOC,QAAO,SAACC,GAAD,MAAmC,UAAxBA,EAAMC,OAAOC,UAAoBC,OACnFC,EAAWC,KAAKC,MAAOT,EAAiBF,EAAQG,OAAOK,OAAU,KACvE,OACE,2BAASI,IAAKX,EAAOY,KAAgB,IAAVZ,GACzB,2BAASN,UAAU,kBACjB,uBAAKA,UAAU,gBAAgBK,EAAQc,MACvC,uBAAKnB,UAAU,oBAAmB,4BAAUoB,MAAON,EAAUO,IAAI,SACjE,uBAAKrB,UAAU,kBAAiB,wBAAMA,UAAWK,EAAQiB,SAAW,WAAa,cAAejB,EAAQiB,SAAW,WAAa,gBAEjIjB,EAAQG,OAAOJ,KAAI,SAACM,EAAOJ,GAAR,OAClB,uBAAKW,IAAKX,EAAON,UAAU,QACzB,uBAAKA,UAAU,aAAY,uBAAKuB,IAAKb,EAAMc,UAAUC,KAAKC,IAAKC,IAAKjB,EAAMc,UAAUL,QACpF,uBAAKnB,UAAU,YAAYU,EAAMO,KACjC,uBAAKjB,UAAU,gBAAgBU,EAAMkB,SACrC,uBAAK5B,UAAU,eAAc,wBAAMA,UAAS,UAAYU,EAAMC,OAAOC,QAAWF,EAAMC,OAAOQ,OAC7F,uBAAKnB,UAAU,iBACZU,EAAMmB,UAAY,gBAAC,EAAAC,EAAD,CAAaC,MAAOrB,EAAMmB,SAASG,OAAOC,gBAAgBC,gBAAiBP,IAAKjB,EAAMmB,SAASM","file":"component---src-pages-index-js-04633799138db743d305.js","sourcesContent":["import '@picocss/pico/css/pico.css'\nimport { graphql } from 'gatsby'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport * as React from 'react'\nimport './index.scss'\n\nexport const query = graphql`\n  query {\n    allJiraVersion(\n      filter: { archived: { eq: false }, issues: { elemMatch: { issueType: { name: { eq: \"Story\" } } } } }\n      sort: { fields: releaseDate, order: DESC }\n    ) {\n      nodes {\n        name\n        description\n        released\n        startDate(formatString: \"MM/DD//YYYY\")\n        releaseDate(formatString: \"MM/DD//YYYY\")\n        issues {\n          key\n          issueType { name, icon { url } }\n          summary\n          status { name, jiraId }\n          assignee { displayName, avatar { childImageSharp { gatsbyImageData(height: 24, width: 24) } } }\n        }\n      }\n    }\n  }`\n\nconst IndexPage = (params) => {\n  const versions = params.data.allJiraVersion.nodes\n  return (\n    <React.Fragment>\n      <nav className=\"container-fluid\">\n        <ul><li><strong>gatsby-source-atlassian</strong></li></ul>\n        <ul><li><a href=\"https://github.com/magloft/gatsby-source-atlassian/\" target=\"_blank\" rel=\"noreferrer\">Github</a></li></ul>\n      </nav>\n      <main className=\"container\">\n        <article>\n          <header>Releases</header>\n          {versions.map((version, index) => {\n            const completedTasks = version.issues.filter((issue) => issue.status.jiraId === '10038').length\n            const progress = Math.floor((completedTasks / version.issues.length) * 100)\n            return (\n              <details key={index} open={index === 0}>\n                <summary className=\"version-header\">\n                  <div className=\"version-name\">{version.name}</div>\n                  <div className=\"version-progress\"><progress value={progress} max=\"100\"></progress></div>\n                  <div className=\"version-status\"><mark className={version.released ? 'released' : 'unreleased'}>{version.released ? 'released' : 'unreleased'}</mark></div>\n                </summary>\n                {version.issues.map((issue, index) => (\n                  <div key={index} className=\"task\">\n                    <div className=\"task-icon\"><img src={issue.issueType.icon.url} alt={issue.issueType.name} /></div>\n                    <div className=\"task-key\">{issue.key}</div>\n                    <div className=\"task-summary\">{issue.summary}</div>\n                    <div className=\"task-status\"><mark className={`status-${issue.status.jiraId}`}>{issue.status.name}</mark></div>\n                    <div className=\"task-assignee\">\n                      {issue.assignee && <GatsbyImage image={issue.assignee.avatar.childImageSharp.gatsbyImageData} alt={issue.assignee.displayName} />}\n                    </div>\n                  </div>\n                ))}\n              </details>\n            )\n          })}\n        </article>\n      </main>\n    </React.Fragment>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}